pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
--init array of turtles
t = {1,1,1,1,1,1}

--takes a y coordinate and size
function draw_turtle(x,y,l)
	--draw the butt
	spr(1,x,y)
	--draw the shell
	spr(2,x+8,y)
	--draw the neck
	for i=1,l do
		spr(3,x+8+8*i,y)
	end
	--draw the head
	spr(4,x+16+8*l,y)
end

function _init()

end

function _draw()
	cls(0)
	for i=1,#t do
		draw_turtle(8,(i-1)*16+8,t[i])
	end
end

function _update()
	--randomize on press of z
	if(btnp(4)) then
		for i=1,#t do
			t[i] = flr(rnd(11))
			sfx(0)
		end
	end
	
	--perform a step of our sort
	if(btnp(5)) then
		bubble_step()
	end
end

function bubble_step()
	for i=2,#t do
		if(t[i]<t[i-1]) then
			tmp = t[i]
			t[i] = t[i-1]
			t[i-1] = tmp
			sfx(1)
			return(0)
		end
	end
	sfx(2)
	return(1)
end
__gfx__
00000000000000000044440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000444444433333333333333300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000004444444333333333330330330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000044444443333333333330030030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000333333333333333333303333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000003333333333333333333330000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000033333333333333333333333330000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000003030303000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000e35010350123500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
001000001205000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0010000015750197501b7501b75023750237502375000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
