pico-8 cartridge // http://www.pico-8.com
version 29
__lua__
fibval = 1
fibres = 1

-- returns nth fibbonaci
function fib(n)
	if n<0 then
		print("invalid!")
		return -1
	elseif n==0 then
		return 0
	elseif n==1 then
		return 1
	else
		return fib(n-1) + fib(n-2)
	end
end

function _draw()
	cls(0)
	printc("the \\8"..ordstr(fibval).."\\7 number of the\\nfibbonaci sequence is...",8,16)
	print(fibres,8,28,8)
end

function _update()
	sndflag = -1
	--decrease fibval
	if(btnp(3)) then
		fibval -= 1
		sndflag = 0
	end
	--increase fibval
	if(btnp(2)) then
		fibval += 1
		sndflag = 0
	end
	
	if(btnp(0)) then
		fibval -= 10
		sndflag = 1
	end
	
	if(btnp(1)) then
		fibval += 10
		sndflag = 1
	end
	
	if fibval<1 then
		fibval=1 sndflag = 2
	end
	if fibval>23 then
		fibval=23 sndflag = 2
	end
	
	sfx(sndflag)
	if(sndflag > -1) then
		fibres = fib(fibval)
	end
end

--ordinalizes a string
function ordstr(num)
	str = ""..num
	if(num < 10) then
		str = "0"..str
	end
	if(num > 2) then
		return str.."th"
	elseif(num > 1) then
		return str.."nd"
	else
		return str.."st"
	end
end

--cart #11747
function printc(t,x,y)
 local l=x
 local s=7
 local o=1
 local i=1
 local n=#t+1
 while i<=n do
  local c=sub(t,i,i)
  if c=="\\" or c=="" then
   i+=1
   local p=sub(t,o,i-2)
   print(p,l,y,s)
   l+=4*#p
   o=i+1
   c=sub(t,i,i)
   if c=="n" then
    l=x
    y+=6
   else
    for k=1,16 do
     if c==sub("0123456789abcdef",k,k) then
      s=k-1
      break
     end
    end
   end
  end
  i+=1
 end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000800001c05003000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000800002005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000800000e05000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
